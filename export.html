<!DOCTYPE html>
<html lang="en">
<head>
	<title>Tbilisi State University Digital Herbarium</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
</head>
<body>
	<header class="header">
		<h2 class="logo">
			<img src="img/Logo_ge.png">
			<p>Tbilisi State University<br>Digital Herbarium</p>
		</h2>
		<nav>
			<ul>
				<li class="navlink"><a href="index.html">
					<p>Home</p></a></li>
				<li class="navlink"><a href="team.html">
					<p>Team</p></a></li>
				<li class="navlink"><a href="herbarium.html">
					<p>Herbarium</p></a></li>
				<li class="navlink"><a href="export.html">
					<p>Export</p></a></li>
				<li class="navlink"><a href="about-us.html">
					<p>About Us</p>
				</a></li>
			</ul>
			<button id="myBtn">Sign In</button>
		</nav>
		<script src="modal.js"></script>
	</header>
	<div class="main-wrapper">
		<div class="container-fluid my-4">
			<div class="page-title-holder">
				<h1 class="page-title">Data Export</h1>
				<p class="pl-2">Select the desired settings and click "Downlaod" button to prepare and download</p>
			</div>
			<form action="http://127.0.0.1:5501/export.html" method="POST" class="row bottom-m" onchange="activate()">
				<input type="hidden" name="_token" value="SqPCTn3W9i5Xy33sB844MuxvPERx2RVw9xHD5deV">
				<div class="col-lg-8 col-md-12 mb-4">
					<div class="card">
						<div class="card-body">
							<div class="data-export-container">
								<div class="form-group row">
									<label for="data_family" class="col-lg-2 col-form-label">Family</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="family" multiple data-selected-text-format="count" data-width="100%" name="families_id[]">
										</select>
									</div>
									<label for="data_genus" class="col-lg-2 col-form-label">Genus</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="genus" multiple data-selected-text-format="count" data-width="100%" name="genuses_id[]">
										</select>
									</div>
								</div>
								<div class="form-group row">
									<label for="data_author" class="col-lg-2 col-form-label">Author</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="person"  multiple data-selected-text-format="count" data-width="100%" name="authors_id[]">
										</select>
									</div>
									<label for="data_type_status" class="col-lg-2 col-form-label">Type</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="type" multiple data-selected-text-format="count" data-width="100%" name="types_id[]">
										</select>
									</div>
								</div>
								<div class="form-group row">
									<label for="data_life_form" class="col-lg-2 col-form-label">Life form</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="life_form" multiple data-selected-text-format="count" data-width="100%" name="life_forms_id[]">
										</select>
									</div>
									<label for="data_collectors" class="col-lg-2 col-form-label">Collector</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="person" multiple data-selected-text-format="count" data-width="100%" name="collectors_id[]">
										</select>
									</div>
								</div>
								<div class="form-group row">
									<label for="data_collection_date_from" class="col-lg-2 col-form-label">Coll. Date (From)</label>
									<div class="col-lg-4 filter-date">
										<input type="number" min="1" max="31" class="form-control" placeholder="Day" name="data_collection_day_from">
										<select class="selectpicker" data-live-search="false" title="Choose..." data-selected-text-format="count" data-width="100%" name="data_collection_date_from">
											<option selected disabled value="">Choose</option>
											<option value="1" >January</option>
											<option value="2" >February</option>
											<option value="3" >March</option>
											<option value="4" >April</option>
											<option value="5" >May</option>
											<option value="6" >June</option>
											<option value="7" >July</option>
											<option value="8" >August</option>
											<option value="9" >September</option>
											<option value="10" >October</option>
											<option value="11" >November</option>
											<option value="12" >December</option>
										</select>
										<input type="number" min="1" class="form-control" placeholder="Year" name="data_collection_year_from">
									</div>
									<label for="data_collection_date_to" class="col-lg-2 col-form-label">Coll. Date (To)</label>
									<div class="col-lg-4 filter-date">
										<input type="number" min="1" max="31" class="form-control" placeholder="Day" name="data_collection_day_to">
										<select class="selectpicker" data-live-search="false" title="Choose..." data-selected-text-format="count" data-width="100%" name="data_collection_date_to">
											<option selected disabled value="">Choose</option>
											<option value="1" >January</option>
											<option value="2" >February</option>
											<option value="3" >March</option>
											<option value="4" >April</option>
											<option value="5" >May</option>
											<option value="6" >June</option>
											<option value="7" >July</option>
											<option value="8" >August</option>
											<option value="9" >September</option>
											<option value="10" >October</option>
											<option value="11" >November</option>
											<option value="12" >December</option>
										</select>
										<input type="number" min="1" class="form-control" placeholder="Year" name="data_collection_year_to">
									</div>
								</div>
								<div class="form-group row">
									<label for="data_identifier" class="col-lg-2 col-form-label">Identifier</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="person" multiple data-selected-text-format="count" data-width="100%" name="identifiers_id[]">
										</select>
									</div>
									<label for="data_identification_date_from" class="col-lg-2 col-form-label">Idetification Date (From)</label>
									<div class="col-lg-4 filter-date">
										<input type="number" min="1" max="31" class="form-control" placeholder="Day" name="data_identification_day_from">
										<select class="selectpicker" data-live-search="false" title="Choose..." data-selected-text-format="count" data-width="100%" name="data_identification_date_from">
											<option selected disabled value="">Choose</option>
											<option value="1" >January</option>
											<option value="2" >February</option>
											<option value="3" >March</option>
											<option value="4" >April</option>
											<option value="5" >May</option>
											<option value="6" >June</option>
											<option value="7" >July</option>
											<option value="8" >August</option>
											<option value="9" >September</option>
											<option value="10" >October</option>
											<option value="11" >November</option>
											<option value="12" >December</option>
										</select>
										<input type="number" min="1" class="form-control" placeholder="Year" name="data_identification_year_from">
									</div>
								</div>
								<div class="form-group row">
									<label for="data_identification_date_to" class="col-lg-2 col-form-label">Identification Date (to)</label>
									<div class="col-lg-4 filter-date">
										<input type="number" min="1" max="31" class="form-control" placeholder="Day" name="data_identification_day_to">
										<select class="selectpicker" data-live-search="false" title="Choose..." data-selected-text-format="count" data-width="100%" name="data_identification_date_to">
											<option selected disabled value="">Choose</option>
											<option value="1" >January</option>
											<option value="2" >February</option>
											<option value="3" >March</option>
											<option value="4" >April</option>
											<option value="5" >May</option>
											<option value="6" >June</option>
											<option value="7" >July</option>
											<option value="8" >August</option>
											<option value="9" >September</option>
											<option value="10" >October</option>
											<option value="11" >November</option>
											<option value="12" >December</option>
										</select>
										<input type="number" min="1" class="form-control" placeholder="Year" name="data_identification_year_to">
									</div>
									<label for="data_country" class="col-lg-2 col-form-label">Country</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="country" multiple data-selected-text-format="count" data-width="100%" name="countries_id[]">
										</select>
									</div>
								</div>
								<div class="form-group row">
									<label for="data_region" class="col-lg-2 col-form-label">Region</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="region" multiple data-selected-text-format="count" data-width="100%" name="regions_id[]">
										</select>
									</div>
									<label for="data_municipality" class="col-lg-2 col-form-label">Municipality</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="municipality" multiple data-selected-text-format="count" data-width="100%" name="municipalities_id[]">
										</select>
									</div>
								</div>
								<div class="form-group row">
									<label for="data_locality" class="col-lg-2 col-form-label">Locality</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="place" multiple data-selected-text-format="count" data-width="100%" name="localities_id[]">
										</select>
									</div>
									<label for="data_habitat" class="col-lg-2 col-form-label">Habitat</label>
									<div class="col-lg-4">
										<select class="selectpicker-remote-search" data-type="habitat" multiple data-selected-text-format="count" data-width="100%" name="habitates_id[]">
										</select>
									</div>
								</div>
								<div class="form-group row">
									<label for="data_altitude" class="col-lg-2 col-form-label">Altitude</label>
									<div class="col-lg-4 altitude">
										<input type="number" min="0" class="form-control" name="altitude">
										<select class="selectpicker" data-live-search="false" title="Choose..." data-selected-text-format="count" data-width="100%" name="altitude_value">
											<option disabled value="" selected>Value</option>
											<option value="meter">Meters</option>
											<option value="feet">Feet</option>
										</select>
									</div>
									<label for="data_altitude_range" class="col-lg-2 col-form-label">Altitude Range</label>
									<div class="col-lg-4 altitude range">
										<input type="number" min="0" class="form-control" placeholder="Altitude (From)" name="altitude_from">
										<input type="number" min="0" class="form-control" placeholder="Altitude (to)" name="altitude_to">
										<select class="selectpicker" data-live-search="false" title="Choose..." data-selected-text-format="count" data-width="100%" name="altitude_range_value">
											<option selected disabled value="">Value</option>
											<option value="meter" >Meters</option>
											<option value="feet" >Feet</option>
										</select>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-lg-4 col-md-12 mb-4">
					<div class="card">
						<div class="card-body">
							<div class="data-export-control">
								<div class="check-all">
									<h2>Fields</h2>
									<div class="custom-control custom-checkbox">
										<input type="checkbox" class="custom-control-input" id="checkAll" onclick="checkall(this);">
										<label class="custom-control-label invisible" for="checkAll">All</label>
									</div>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="voucher_id" name="column[voucher_id]">
									<label class="custom-control-label" for="voucher_id">Voucher ID</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="project_title" name="column[project_title]">
									<label class="custom-control-label" for="project_title">Project Title</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="life_form" name="column[life_form]">
									<label class="custom-control-label" for="life_form">Life Form</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="collector" name="column[collector]">
									<label class="custom-control-label" for="collector">Collector</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="collector_no" name="column[collector_no]">
									<label class="custom-control-label" for="collector_no">Collector Number</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="collection_date" name="column[collection_date]">
									<label class="custom-control-label" for="collection_date">Collection Date</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="country" name="column[country]">
									<label class="custom-control-label" for="country">Country</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="region" name="column[region]">
									<label class="custom-control-label" for="region">Region</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="municipality" name="column[municipality]">
									<label class="custom-control-label" for="municipality">Municipality</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="place" name="column[place]">
									<label class="custom-control-label" for="place">Locality</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="collection_note" name="column[collection_note]">
									<label class="custom-control-label" for="collection_note">Collector Notes</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="longitude" name="column[longitude]">
									<label class="custom-control-label" for="longitude">Longtitude</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="latitude" name="column[latitude]">
									<label class="custom-control-label" for="latitude">Latitude</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="habitat" name="column[habitat]">
									<label class="custom-control-label" for="habitat">Habitat</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="altitude" name="column[altitude]">
									<label class="custom-control-label" for="altitude">Altitude</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="altitude_from" name="column[altitude_from]">
									<label class="custom-control-label" for="altitude_from">Altitude (From)</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="altitude_to" name="column[altitude_to]">
									<label class="custom-control-label" for="altitude_to">Altitude (To)</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="value" name="column[value]">
									<label class="custom-control-label" for="value">Value</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="inclination" name="column[inclination]">
									<label class="custom-control-label" for="inclination">Inclination</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="exposure" name="column[exposure]">
									<label class="custom-control-label" for="exposure">Exposure</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="family" name="column[family]">
									<label class="custom-control-label" for="family">Family</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="genus" name="column[genus]">
									<label class="custom-control-label" for="genus">Genus</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="specific_epithet" name="column[specific_epithet]">
									<label class="custom-control-label" for="specific_epithet">Specific Epithet</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="infra_specific_epithet" name="column[infra_specific_epithet]">
									<label class="custom-control-label" for="infra_specific_epithet">Intraspecific Epithet</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="author_in_parenthesis" name="column[author_in_parenthesis]">
									<label class="custom-control-label" for="author_in_parenthesis">Author (in parenthesis)</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="author" name="column[author]">
									<label class="custom-control-label" for="author">Author</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="name" name="column[name]">
									<label class="custom-control-label" for="name">Primary Accession name</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="type" name="column[type]">
									<label class="custom-control-label" for="type">Type</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="identifier" name="column[identifier]">
									<label class="custom-control-label" for="identifier">Identifier</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="identification_date" name="column[identification_date]">
									<label class="custom-control-label" for="identification_date">Identification Date</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="identification_notes" name="column[identification_notes]">
									<label class="custom-control-label" for="identification_notes">Identifier Notes</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="other_notes" name="column[other_notes]">
									<label class="custom-control-label" for="other_notes">Other Notes</label>
								</div>
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="last_modified_at" name="column[last_modified_at]">
									<label class="custom-control-label" for="last_modified_at">Last Modified</label>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-lg-12 data-export-form-control">
					<div class="loader-holder">
						<div class="loader d-none">
							<div class="spinner-border" role="status">
								<span class="sr-only">client.data_export.loading</span>
							</div>
							<div class="notification">client.data_export.preparing_data</div>
						</div>
					</div>
					<div class="data-download-buttons">
						<a class="btn btn-danger" href="http://127.0.0.1:5501/export.html">Cancel</a>
						<button type="submit" class="btn btn-primary" id="btnGenerate" disabled>Download</button>
					</div>
				</div>
			</form>
		</div>
	</div>
	<footer class="footer">
		<div class="container">
			<div class="row">
                <div class="footer-col">
					<h4>Contacts</h4>
					<ul>
						<li>
							<span><i class="fa fa-phone-alt" aria-hidden="true"></i></span>
							<span class="contact"><a>+816 8008135</a></span>
						</li>
						<li>
							<span><i class="fa fa-envelope" aria-hidden="true"></i></span>
							<span class="contact"><a>nana.barnaveli@tsu.ge</a></span>
						</li>
						<li>
							<span><i class="fa fa-envelope" aria-hidden="true"></i></span>
							<span class="contact"><a>maka.bokeria@tsu.ge</a></span>
						</li>
					</ul>
				</div>
				<div class="footer-col">
					<h4>info</h4>
					<ul>
						<li><a href="about-us.html">about us</a></li>
						<li><a href="#">privacy policy</a></li>
						<li><br/></li>
						
					</ul>
				</div>
				<div class="footer-col">
					<h4>help</h4>
					<ul>
						<li><a href="#">FAQ</a></li>
						<li><a href="#"></a></li>
						<li><a href="#"></a></li>
						<li><a href="#"></a></li>
						<li><a href="#"></a></li>
					</ul>
				</div>
				<div class="footer-col">
					<h4>follow us</h4>
					<div class="social-links">
						<a href="#"><i class="fab fa-facebook-f"></i></a>
						<a href="#"><i class="fab fa-twitter"></i></a>
						<a href="#"><i class="fab fa-instagram"></i></a>
						<a href="#"><i class="fab fa-linkedin-in"></i></a>
					</div>
				</div>
			</div>
		</div>
		<div class="copyright">
			copyright lololol
		</div>
	</footer>
	<script src="https://tbi.iliauni.edu.ge/front_resources/js/jquery-3.6.0.min.js"></script>
	<script src="https://tbi.iliauni.edu.ge/front_resources/js/popper.min.js"></script>
	<script src="https://tbi.iliauni.edu.ge/front_resources/js/bootstrap.min.js"></script>
	<script src="https://tbi.iliauni.edu.ge/front_resources/js/custom.js"></script>
	<script src="https://tbi.iliauni.edu.ge/front_resources/js/common.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
	<script>
			// $('.multi-select').selectpicker();
	
			$(function () {
				$('.selectpicker').select2({
					placeholder: 'Choose',
					theme: 'bootstrap4'
				})
				$('.selectpicker-remote-search').select2({
					placeholder: 'Choose',
					allowClear: true,
					theme: 'bootstrap4',
					ajax: {
						url: 'https://tbi.iliauni.edu.ge/ka/search-types',
						delay: 250,
						method: 'GET',
						dataType: 'json',
						minimumInputLength: 2,
						data: function(params) {
							return {
								type: $(this).data('type'),
								q: params.term
							}
						}
					}
				})
			})
	
			// Select/Deselect checkboxes
			function checkall(source) {
				let checkboxes = document.querySelectorAll('.custom-control-input');
				for (let i = 0; i < checkboxes.length; i++) {
					if (checkboxes[i] != source)
						checkboxes[i].checked = source.checked;
				}
			}
	
			// Remove attribute 'disabled' from download button and show loader
			function activate(){
				let btnGenerate = document.querySelector("#btnGenerate").removeAttribute('disabled', '')
			}
	
	</script>
	<script>
		$(function () {
			$('.logout-link').click(function () {
				$('#logout-form').submit();
			});
		});
	</script>
</body>
</html>